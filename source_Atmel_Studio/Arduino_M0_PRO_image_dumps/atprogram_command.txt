atprogram -t edbg -i swd -d atsamd21g18a read -s 262144 --format ihex -f 190617_M0Pro_bootloader_and_blinker.hex

When flashing back to .hex, make sure to set the NVMCTRL_BOOTPROT to 0 bytes


Memory

The ATSAMD21G18 has 256 KB of flash program memory (with 4 KB used for the bootloader). The bootloader is factory pre burnt by Atmel and is stored in a dedicated ROM memory. The bootloader is protected using the NVM fuse. It also carries 32 KB of SRAM.

*** M0 Pro fuses after flash by latest Atmel Start Bootloader:
ADC_LINEARITY_0 = 0x08
ADC_LINEARITY_1 = 0x04
ADC_BIASCAL = 0x03
OSC32K_CAL = 0x39
USB_TRANSN = 0x05
USB_TRANSP = 0x1D
USB_TRIM = 0x03
DFLL48M_COARSE_CAL = 0x21
DFLL48M_FINE_CAL = 0x200
ROOM_TEMP_VAL_INT = 0x1E
ROOM_TEMP_VAL_DEC = 0x00
HOT_TEMP_VAL_INT = 0x55
HOT_TEMP_VAL_DEC = 0x00
ROOM_INT1V_VAL = 0xFE
HOT_INT1V_VAL = 0xFC
ROOM_ADC_VAL = 0xB15
HOT_ADC_VAL = 0xCFD
NVMCTRL_BOOTPROT = SIZE_16384BYTES
NVMCTRL_EEPROM_SIZE = SIZE_0BYTES
BOD33USERLEVEL = 0x07
BOD33_EN = ENABLED
BOD33_ACTION = RESET
WDT_ENABLE = DISABLED
WDT_ALWAYSON = DISABLED
WDT_PER = CYC16384
WDT_WINDOW_0 = [X]
WDT_WINDOW_1 = 0x05
WDT_EWOFFSET = CYC16384
WDT_WEN = DISABLED
BOD33_HYST = DISABLED
NVMCTRL_REGION_LOCKS = 0xFFFF

OTP4_WORD_0 = 0x40004007 (valid)
OTP4_WORD_1 = 0x85F4AE5C (valid)
OTP4_WORD_2 = 0xFFFFFE00 (valid)
TEMP_LOG_WORD_0 = 0xFE05501E (valid)
TEMP_LOG_WORD_1 = 0xCFDB15FC (valid)
USER_WORD_0 = 0xD8E0C7F9 (valid)
USER_WORD_1 = 0xFFFFFC5D (valid)
